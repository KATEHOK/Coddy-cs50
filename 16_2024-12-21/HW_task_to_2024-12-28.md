# К занятию 2024-12-28

На последнем занятии мы разобрали установили компилятор GCC

## Теория

### Снова про функции

[Файл](./main.c) с кодом с занятия.

#### Периметр параллелограмма

На занятии с теми, кто успел, мы рассмотрели, как можно передавать в функцию в качестве аргумента результат другой функции.

```c
// Складывает два целых числа
int plus(int slagaemoe_1, int slagaemoe_2);

// Перемножает два целых числа
int mul(int mnozhitel_1, int mnozhitel_2);

// Вычисляет периметр параллелограмма (прямоугольник - тоже параллелограмм)
int parallelogram_perimeter(int a, int b);


int main() {
    printf("Hello World!\n");
    int a = 2, b = 3, c;

    c = parallelogram_perimeter(a, b);
    printf("Answer (parallelogram_perimeter of a = %d, b = %d): %d\n", a, b, c);

    return 0;
}


int parallelogram_perimeter(int a, int b){
    // Для тех, кто не в курсе, периметр четырехугольника - это сумма длин всех его сторон: a + b + c + d (a, b, c, d - длины сторон)
    // А для параллелограмма эта формула выглядит так: a + b + a + b (так как у параллелограмма противолежащие стороны равны)
    // Из математики вы должны знать, что такую формулу можно упростить:
    // a + b + a + b = (a + b) + (a + b) = 2 * (a + b)
    // Таким образом, получаем, что периметр параллелограмма равен: 2 * (a + b), где a и b - длины его сторон.
    
    // Объявим переменную для результата и запишем в нее результат вызова функции plus - сумму чисел: a + b 
    int result = plus(a, b);
    // Умножим полученную сумму на 2 (согласно формуле) и снова запишем результат в переменную result
    result = mul(2, result);
    // Вернем из функции полученный результат
    return result;
}
int plus(int slagaemoe_1, int slagaemoe_2) {
    return slagaemoe_1 + slagaemoe_2;
}
int mul(int mnozhitel_1, int mnozhitel_2) {
    return mnozhitel_1 * mnozhitel_2;
}
```

Данный код функции получается очень громоздким. Его можно простить, если мы будем вызывать функцию сложения и сразу передавать ее результат в функцию умножения без промежуточной записи в переменную.

```c
int parallelogram_perimeter(int a, int b){
    // Объявим переменную для результата и запишем в нее результат вызова функции mul - произведение: 2 * результат функции plus - сумму: a + b
    // Таким образом, в переменную result фактически запишется результат выражения: 2 * (a + b)
    // То есть вместо двух строчек кода мы получим одну 
    int result = mul(2, plus(a, b));
    return result;
}
```

Но можно сделать еще компактней - сразу вернуть результат выражения без записи его в переменную `result`.

```c
int parallelogram_perimeter(int a, int b){
    // Без использования переменной result сразу возвращаем результат выражения
    // Таким образом, мы сократили тело функции до одной строчки
    return mul(2, plus(a, b));
}
```

Кто-то может справедливо заметить, что само выражение `2 * (a + b)` занимает гораздо меньше места - и он будет прав, в реальных программах обычно никто не делает своих реализаций для таких простых функций, как арифметические действия (за редкими специфическими исключениями).

Мы же с вами рассматриваем такую функцию в качестве простого наглядного примера, как **можно результат функции сразу передавать в качестве аргумента в другую функцию**. В дальнейшем это умение нам очень понадобиться, так как при таком подходе сокращается количество кода и упрощается его восприятие.

#### Вывод результата

В качестве более приближенного к реальности примера передачи результата функции в качестве агрумента в другую функцию может служить такой пример:

```c
// Складывает два целых числа
int plus(int slagaemoe_1, int slagaemoe_2);

// Перемножает два целых числа
int mul(int mnozhitel_1, int mnozhitel_2);

// Вычисляет периметр параллелограмма (прямоугольник - тоже параллелограмм)
int parallelogram_perimeter(int a, int b);


int main() {
    printf("Hello World!\n");
    int a = 2, b = 3;

    // Передаем результат вызова parallelogram_perimeter напрямую в функцию printf, не используя переменных
    printf("Answer (parallelogram_perimeter of a = %d, b = %d): %d\n", a, b, parallelogram_perimeter(a, b));

    return 0;
}


int parallelogram_perimeter(int a, int b){
    return mul(2, plus(a, b));
}
int plus(int slagaemoe_1, int slagaemoe_2) {
    return slagaemoe_1 + slagaemoe_2;
}
int mul(int mnozhitel_1, int mnozhitel_2) {
    return mnozhitel_1 * mnozhitel_2;
}
```

Здесь мы уже не используем дополнительную переменную для сохранения результата выполнения функции `parallelogram_perimeter`, а сразу передаем его в функцию `printf`. Это мы можем себе позволить в том случае, если в дальнейшем нам не нужно будет нигде использовать это значение.

#### Нужно выдерживать баланс

Однако стоит знать меру в такой вложенности, так как большое количество вложенных вызовов функций усложнит восприятие кода. Например, не очень просто будет читаться такой код:

```c
printf("Answer (parallelogram_perimeter of a = %d, b = %d): %d\n", a, b, mul(2, plus(a, b) ));
```

И это только два вложенных вызова (функция `plus` вызывается и сразу передается в `mul`, которая вызывается и сразу передается в `printf`), а представьте себе, если нам потребуется посчитать и сразу напечатать что-то более сложное, например квадрат половины площади круга с радиусом `R` (не знаю, зачем вам такое, но предположим, что надо):

```c
printf("Result: %d\n", mul(div(mul(PI, mul(R, R)), 2), div(mul(PI, mul(R, R)), 2)))
```

Согласитесь, что такой код достаточно трудно читать, поэтому в данном случае следовало бы использовать несколько переменных:

```c
// Площадь круга
int circle_area = mul(PI, mul(R, R));

// Половина площади круга
int half_circle_area = div(circle_area, 2);

// Квадрат половины площади круга
printf("Result: %d\n", mul(half_circle_area, half_circle_area))
```

Можете заметить, что такой код гораздо проще прочитать и сходу понять, как он работает.

## Домашка

Выполнять задание можете в любом удобном редакторе кода, только учтите, что вы должны иметь возможность компилировать и запускать программу.

Рекомендую использовать:

1) VSCode с установленным компилятором, например, по одному из гайдов:
    - [#2. Установка компилятора gcc и Visual Studio Code на ОС Windows | Язык C для начинающих | selfedu | YouTube](https://youtu.be/TGpYh9X1PYk?si=d-czlTp61j4xqeGc) (предпочтительный вариант)
    - [Install gcc compiler 2024-11-16 | Katehok | YouTube](https://youtu.be/9h7KRt1w1Dc?si=g4nHwqL6HzXzmI0k)
2) Онлайн codespace от cs50: https://cs50.dev/
3) Онлайн IDE + компилятор: https://www.online-cpp.com/online_c_ide
4) MS Visual Studio
5) Любая другая связка редактора кода + компилятора

В любом случае, для сдачи домашки у вас должна быть возможность показать код мне. Как именно вы это сделаете - файл или архив файлов с кодом пришлете в ТГ или принесете их на флешке - не столь важно (единственное, код должен быть в виде текста, а не фотографии или скриншота). Учтите, что код должен быть полностью рабочим, то есть, мне достаточно будет лишь скомпилировать его, не внося никаких исправлений.

Напомню, что все задачи должны быть решены в одном файле в виде отдельных функций.

Помните: для каждой своей функции нужно создать прототип и поместить его до функции `main`, а сами реализации своих функций должны быть написаны уже после функции `main`, как это показано в [файле с урока](./main.c) (можете использовать код из него в качестве примера).

### GCC и VSCode

Во-первых, если вы до сих пор не установили компилятор GCC и/или среду разработки VSCode, необходимо сделать это. Инструкция по установке - в видео из [предыдущего задания](../15_2024-12-14/HW_task_to_2024-12-21.md).

Если у вас возникнут проблемы с просмотром видео, то пишите мне в телегу - помогу.

### Вложенный вызов функций

С занятия у вас должен был остаться файл с функциями сложения, вычитания, умножения, деления, а также поиска периметра прямоугольника и площади прямоугольного треугольника (если успели).

Если какой-то из этих функций у вас еще нет - сделайте. Причем, функции поиска периметра прямоугольника и площади прямоугольного треугольника должны использовать в своей логике вложенные вызовы функций сложения, вычитания, умножения и деления - по необходимости (например, вместо `a + b` вы должны использовать `plus(a, b)` - и тому подобное).

Итак, вы должны реализовать следующие функции (не забудьте сделать прототипы и комментарии о том, что делает каждая из функций):

#### `parallelogram_perimeter`

Функция принимает два целых числа `a` и `b` (типа `int`) и возвращает целое число - периметр параллелограмма со сторонами `a` и `b`.

#### `rectangle_area`

Функция принимает два целых числа `a` и `b` (типа `int`) и возвращает целое число - площадь прямоугольника со сторонами `a` и `b` (можете нагуглить формулу, если не помните/знаете).

#### `square`

Функция принимает одно целое число `a` (типа `int`) и возвращает целое число - квадрат числа `a`, то есть `a^2`.

#### `square_area`

Функция принимает одно целое число `a` (типа `int`) и возвращает целое число - площадь квадрата со стороной `a` (можете нагуглить формулу, если не помните/знаете).

Подсказка: используйте функцию `square`.

#### `rectangular_parallelepiped_volume`

Функция принимает три целых числа `a`, `b` и `c` (типа `int`) и возвращает целое число - объем прямоугольного параллелепипеда со сторонами `a`, `b` и `c` (длина, ширина и высота - соответственно).

#### `cube`

Функция принимает одно целое число `a` (типа `int`) и возвращает целое число - куб числа `a`, то есть `a^3`.

#### `cube_volume`

Функция принимает одно целое число `a` (типа `int`) и возвращает целое число - объем куба со стороной `a`.

Подсказка: используйте функцию `cube`.

### Заключение

Не пугайтесь, что надо сделать так много функций. Все они очень простые, каждая из них занимает по одной-две строчки кода.

Если вы не знаете какое-то из понятий (например, что такое параллелепипед и как считать его объем), загуглите. Если и там не найдете ответ (что вряд ли, так как в интернете есть все), то обращайтесь ко мне, постараюсь помочь.

#### Компиляция и запуск

Напомню, что для того, чтобы скомпилировать код, нужно в терминале перейти в папку с файлом кода (вспоминайте команду `cd` или как открыть терминал в нужной папке) и выполнить команду:

```
gcc -o <program.exe> <c-file.c>
```

Где `<program.exe>` название файла, которое хотите сделать для ващей программы; `<c-file.c>` - название вашего файла с кодом на языке C.

Чтобы запустить скомпилированную программу, выполните:

```
./<program>
```

Где `<program>` - название программы, которую хотите запустить.

**Удачи!)**