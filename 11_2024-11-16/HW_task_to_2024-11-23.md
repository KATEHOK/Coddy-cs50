# К занятию 2024-11-23

## Теория

### Модуль числа

Очень часто возникает необходимость вычислить модуль числа - величину числа без знака.

С точки зрения математики модуль определяется так:

```
|x| = x, если x >= 0
|x| = -x, если x < 0
```

Если расположить число `x` на числовой прямой, то |x| будет равен расстоянию от нуля до этой точки.

То есть, можно сказать, что модуль - это просто число без знака:

```
|0| = 0
|369| = 369
|-73489| = 73489
```

В языке C для вычисления модуля числа используется функция `abs` из библиотеки `stdlib`.
Для использования этой функции необходимо подключить эту библиотеку (аналогично тому, как мы подключаем библиотеку стандартного ввода-вывода: `#include <stdio.h>`).

```c
// подключаем библиотеку stdlib
#include <stdlib.h>

// подключаем библиотеку стандартного ввода-вывода
#include <stdio.h>

// точка входа в программу (функция, которая выполнится при запуске программы)
int main() {
    int num = 0;
    printf("Модуль числа %d равен %d\n", num, abs(num));                    // 0

    num = 7859;
    printf("Модуль положительного числа %d равен %d\n", num, abs(num));     // 7859

    num = -7672;
    printf("Модуль отрицательного числа %d равен %d\n", num, abs(num));     // 7672

    // код успешного возврата
    return 0;
}
```

### Краткая запись математических операций

Достаточно часто в программировании приходится применять математическую операйию над числом в какой-то переменной и записывать результат операции в эту же переменную. В таком случае используют сокращенную запись:

```c
int num1 = 0;
int num2 = 0;

num1 += 7986;
num2 = num2 + 7986;
printf("%d %d\n", num1, num2);  // 7986 7986

num1 -= 86;
num2 = num2 - 86;
printf("%d %d\n", num1, num2);  // 7900 7900

num1 *= 3;
num2 = num2 * 3;
printf("%d %d\n", num1, num2);  // 23700 23700

num1 /= 23;
num2 = num2 / 23;
printf("%d %d\n", num1, num2);  // 1030 1030

num1 %= 100;
num2 = num2 % 100;
printf("%d %d\n", num1, num2);  // 30 30
```

Также очень часто используются операции увеличения или уменьшения числа на единицу.
Для этих операции придумали даже специальные названия: инкремент (для прибавления единицы) и декремент (для вычитания единицы).

В свою очередь, инкремент и декремент имеют постфиксную и префиксную формы.
Для нас пока что их различия несущественны.

```c
int num1 = 0;
int num2 = 0;

// Постфиксный инкремент
num1++;
num2 += 1;
printf("%d %d\n", num1, num2);  // 1 1

// Префиксный инкремент
++num1;
num2 += 1;
printf("%d %d\n", num1, num2);  // 2 2

// Постфиксный декремент
num1--;
num2 -= 1;
printf("%d %d\n", num1, num2);  // 1 1

// Префиксный декремент
--num1;
num2 -= 1;
printf("%d %d\n", num1, num2);  // 0 0
```

### Циклы

Для выполнения повторяющихся действий в программировании используют циклы.
Одно повторение называется итерацией цикла.

Например, предположим, что нам надо посчитать количество заштрихованых клеток на одном листе в школьной тетради:

```
Заштрихованных_клеток = 0
Повторить (для каждой клетки на выбранном листе) {
    если (выбранная клетка заштрихована), то {
        Заштрихованных_клеток++
    }
}
```

Если бы кто-то захотел решить эту задачу без использования циклов, то ему пришлось бы в ручную написать столько проверок, сколько всего клеток на листе (а если этих клеток больше 100, это же как много одинаковых строк кода пришлось бы писать), в таком случае очень легко ошибиться и пропустить или дважды обсчитать какую-нибудь клетку.

#### Цикл for

[for | Learn MS](https://learn.microsoft.com/ru-ru/cpp/c-language/for-statement-c?view=msvc-170)

Данный цикл используется для задач, где действия выполняются определенное число раз, заданное простыми математическими сравнениями.

Синтаксис цикла следующий:

```c
for (определение целочисленной переменной-счетчика; условие выполнения цикла; изменение переменной-счетчика) {
    // тело цикла
    // содержит код, который необходимо повторять
}
```

Выполнение цикла будет происходить так:

1) выделение памяти для переменной-счетчика и запись в нее числа-счетчика
2) проверка, что условие выполнения цикла истинно, если нет, то выполнение цикла прекращается
3) выполнение итерации цикла (то есть, однократное выполнение тела цикла)
4) изменение переменной-счетчика
5) переход к выполнению 2-го пункта этого плана

Простейший пример работы такого цикла - вывод значения переменной счетчика:

```c
for (int i = 0; i < 10; ++i) {
    printf("Итерация №%d, i = %d\n", i + 1, i);
}
```

Исторически сложилось, что для переменной счетчика часто используют имена по типу: `i`, `j`, `k`, `id`, `count`, ...
Хотя имя переменной-счетчика может быть абсолютно любым.

#### Цикл while (с предусловием)

[while | Learn MS](https://learn.microsoft.com/ru-ru/cpp/c-language/while-statement-c?view=msvc-170)

Если нам заранее не известно необходимое количество итераций цикла или условие выполнения цикла достаточно сложное, то вместо цикла for используют другие, например, цикл while.

Синтаксис этого цикла следующий:

```c
while (условие выполнения цикла) {
    // тело цикла
    // содержит код, который необходимо повторять
}
```

Цикл while называют циклом с предусловием, так как в нем условие выполнения цикла проверяется перед каждой итерацией.

Выполнение цикла будет происходить так:

1) проверка, что условие выполнения цикла истинно, если нет, то выполнение цикла прекращается
2) выполнение итерации цикла (то есть, однократное выполнение тела цикла)
3) переход к выполнению 1-го пункта этого плана

Примером такого цикла может быть проверка корректности ввода делителя в калькуляторе:

```c
int x, y = 0;
printf("Введите делимое (целое число): ");
scanf("%d", &x);

while (y == 0) {
    printf("Введите корректный делитель (целое число, не равное 0): ");
    scanf("%d", &y);
}
```

В данном примере программа будет запрашивать ввод целого числа до тех пор, пока пользователь не введет ненулевой `y`.

#### Цикл do-while (с постусловием)

[do-while | Learn MS](https://learn.microsoft.com/ru-ru/cpp/c-language/do-while-statement-c?view=msvc-170)

Этот цикл отличается от цикла while тем, что в нем условие продолжения проверяется после каждой итерации цикла (напомню, что в случае цикла while условие проверялось перед каждой итерацией).

Синтаксис этого цикла следующий:

```c
do {
    // тело цикла
    // содержит код, который необходимо повторять
} while (условие выполнения цикла);
```

Цикл while называют циклом с предусловием, так как в нем условие выполнения цикла проверяется перед каждой итерацией.

Выполнение цикла будет происходить так:

1) выполнение итерации цикла (то есть, однократное выполнение тела цикла)
2) проверка, что условие выполнения цикла истинно, если нет, то выполнение цикла прекращается
3) переход к выполнению 1-го пункта этого плана

Примером такого цикла может также быть проверка корректности ввода делителя в калькуляторе:

```c
int x, y;
printf("Введите делимое (целое число): ");
scanf("%d", &x);

do {
    printf("Введите корректный делитель (целое число, не равное 0): ");
    scanf("%d", &y);
} while (y == 0);
```

#### brake и continue

Если в какой-то момент выполения цикла потрепуется его прервать, то используется ключевое слово `break`.

Например, предположим, что нам надо найти максимальное натуральное число, делящееся на `n` без остатка, но при этом меньшее, чем число `m`:

```c
int n = 7;
int m = 100;

int num = m - 1;
while (num > 0) {
    if (num % n == 0) {
        break;
    }
    --num;
}

if (num == 0) {
    printf("В этом промежутке такого числа не существует!\n");
}
else {
    printf("Натуральное число %d - максимальное, меньше, чем %d, и при этом делится на %d без остатка\n", num, m, n);
}
```

Если же нужно пропустить дальнейшее выполнение текущей итерации, используют ключевое слово `continue`.

Например, предположим, что нам нужно вывести все натуральные числа, меньшие `m`, и при этом не делящиеся на `n` без остатка:

```c
int m = 100;
int n = 7;

for (int i = 1; i < m; ++i) {
    if (i % n == 0) {
        continue;
    }
    printf("%d\n", i);
}
```

## Домашка

Выполнять задание можете в любом удобном редакторе кода, только учтите, что вы должны иметь возможность компилировать и запускать программу.

Рекомендую использовать:

1) Онлайн codespace от cs50: https://cs50.dev/
2) Онлайн IDE + компилятор: https://www.online-cpp.com/online_c_ide
3) VSCode с установленным компилятором (например, по гайду: https://youtu.be/9h7KRt1w1Dc?si=g4nHwqL6HzXzmI0k)
4) MS Visual Studio
5) Любая другая связка редактора кода + компилятора

В любом случае, для сдачи домашки у вас должна быть возможность скопировать код и прислать мне в личку в ТГ или же прислать C-файлы с кодом.

### Первая задача

Создать файл `dialog.c` для этой программы.

Написать диалоговую программу - прототип для дальнейших программ.

Программа должна выводить приветственное сообщение, после чего в цикле задавать пользователю вопрос: Хочет ли он продолжить, или хочет завершить выполнение.

После чего программа должна считывать ввод пользователя и, если он введет код завершения (например, число 0), то программа должна выводить прощальное сообщение и завершаться. Если же пользователь введет какое-нибудь другое число, то цикл должен продолжиться - и так по кругу.

### Вторая задача

Создать файл `second.c` для этой программы.

Скопировать программу из файла `dialog.c` (предыдущего задания) и изменить ее следующим образом:

Если пользователь ввел не код завершения, то выполнить код, решающий задачу:

Пользователь вводит три целых числа. Необходимо найти количество положительных и количество отрицательных чисел в исходном наборе, а также сумму двух наибольших из них.

### Третья задача

Создать файл `thirdth.c` для этой программы.

Скопировать программу из файла `dialog.c` и изменить ее.

Если пользователь ввел не код завершения, то выполнить код, решающий задачу:

Пользователь вводит натуральное число.

Необходимо производить считывание введенного числа в цикле, проверяя, что если введено не натуральное число, то просить повторить ввод числа до тех пор, пока введенное число не будет натуральным.

Далее необходимо вывести последовательность степеней двойки, то есть: 2 в 0 степени, 2 в 1 степени, 2 во 2 степени, ... и так далее до тех пор, пока степень двойки не будет превосходить введенное пользователем.

То есть, если пользователь ввел 600, необходимо вывести: `1 2 4 8 16 32 64 128 256 512` (следующее - 1024, но оно уже больше, чем 600, поэтому прекращаем вывод).

Для тех, кто в танке напомню,

1) натуральные числа - это числа, которые используются в жизни при счете предметов (1, 2, 3, ... и тд)
2) степень числа `x` - это `x` умноженное само на себя столько раз, какой показатель степени, при этом считается, что `x` в степени 0 всегда равен единице (если `x != 0`).  
